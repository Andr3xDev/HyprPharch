#--------------------------------------------------------------------------------
#                                           
#                ,--------.                             
#                '--.  .--',--,--,--.,--.,--.,--.  ,--. 
#                   |  |   |        ||  ||  | \  `'  /  
#                   |  |   |  |  |  |'  ''  ' /  /.  \  
#                   `--'   `--`--`--' `----' '--'  '--' 
#                                           
#             _______
#　　　　　 /  ＞　　フ     
#　　　　　| 　_　 _ l      RESUME: Here is where the configuration of my 
#　 　　　／` ミ＿xノ               hyprland is orchestrated
#　　 　 /　　　 　 |
#　　　 /　 ヽ　　 ﾉ
#　 　 │　　|　|　|         AUTHOR:  Andr3xDev
#　／￣|　　 |　|　|        URL: https://github.com/Andr3xDev/HyprPharch
#　| (￣ヽ＿_ヽ_)__)
#　＼二つ
#--------------------------------------------------------------------------------


#--------------------------------------------------------------------------------
# Core settings
#--------------------------------------------------------------------------------

# Terminal compatibility and truecolor support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
set -g mouse on                # Enable mouse interaction
set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on     # Re-index windows automatically
set -s escape-time 0           # Remove delay for escape key
set -g history-limit 50000     # Rcrollback buffer size


#--------------------------------------------------------------------------------
# Keybindings (System)
#--------------------------------------------------------------------------------

# Prefix configuration
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Configuration reload
bind r source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"

# List of sessions
unbind S
bind T choose-tree -Zs

# New sessions
bind C command-prompt -p "New Session Name:" "new-session -A -s '%%'"


#--------------------------------------------------------------------------------
# Panels management
#--------------------------------------------------------------------------------

# Quick split (vertical)
bind Enter split-window -h -c "#{pane_current_path}"

# Split chooser menu
unbind s
bind s display-menu -x W -y S \
    "Vertical Split   (|)" v "split-window -h -c '#{pane_current_path}'" \
    "Horizontal Split (-)" h "split-window -v -c '#{pane_current_path}'"


#--------------------------------------------------------------------------------
# Navigation & resizing
#--------------------------------------------------------------------------------

# Pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Closing actions
bind q kill-pane       # Close current pane
bind Q kill-window     # Close current window


#--------------------------------------------------------------------------------
# Windows management
#--------------------------------------------------------------------------------

# Create window
unbind t
bind t new-window -c "#{pane_current_path}"

# Window navigation
bind -r p previous-window
bind -r n next-window
bind -r Tab last-window


#--------------------------------------------------------------------------------
# Copy mode
#--------------------------------------------------------------------------------

# Enter copy mode
bind v copy-mode
setw -g mode-keys vi

# Copy and selection
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel


#--------------------------------------------------------------------------------
# Visuals
#--------------------------------------------------------------------------------

# Layout
set -g status-position top
set -g status-style bg=default,fg=default
set -g status-justify left

# Left side
set -g status-left-length 50
set -g status-left "#[fg=green,bold] ❐ #[fg=default]#S " 

# Center (windows)
setw -g window-status-format "#[fg=default] #W "
setw -g window-status-current-format "#[fg=blue,bold] ● #[fg=default]#W "

# Right side
set -g status-right "" 

# Pane borders
set -g pane-border-style fg=brightblack
set -g pane-active-border-style fg=brightblack

# Mode style (scroll/selection)
setw -g mode-style "bg=brightblack,fg=default"

# Command line style
set -g message-style "bg=brightblack,fg=default"


# ------------------------------------------------------------------------------
# Plugins
#--------------------------------------------------------------------------------

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'sainnhe/tmux-fzf'

# Resurrect keys
set -g @resurrect-save 'W'
set -g @resurrect-restore 'R'
set -g @resurrect-processes 'opencode btop'

# FZF settings
TMUX_FZF_LAUNCH_KEY="F"

# Popup layout
TMUX_FZF_OPTIONS="-p -w 60% -h 50% -m"


# Initialize plugin manager
run '~/.tmux/plugins/tpm/tpm'
